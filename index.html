<!DOCTYPE html>
<head>
  <title>Testing</title>
  <script src="Game.js"></script>
</head>

<body style="background:white;">
     <video id='test_video' width="1080" height="720" controls>
      <source  src="test3.mp4" type="video/mp4">
    </video>
   
    <canvas style="position: absolute; top: 0px; left: 10px"  id="gameCanvas" width="1080px" height="720px" style="color: black; border:1px solid #000000; opacity: .9"></canvas>
    <p id="score">Shit</p>
    <button onclick=resize() style="position: absolute; bottom:0px" id=resize_button>Click me</button>
    <script>
      // For testing 
      let vid = document.getElementById('test_video')
      vid.play()
      let scoreText = document.getElementById('score')
      let canvas = document.getElementById('gameCanvas')
      let ctx = canvas.getContext('2d')
      let myimg = document.getElementById('myimg')
      let game = new Game(canvas.width, canvas.height, ctx, scoreText)
      

      function resize () {
        var ptest = document.createElement('b')
        ptest.innerHTML += "Hello"
        document.body.prepend(ptest)

        
       let vidBound = vid.getBoundingClientRect()
        
        document.body.removeChild(document.getElementById('gameCanvas'))
        
        ctx.clearRect(0,0, canvas.width, canvas.height)
        var newCanvas = document.createElement('canvas')
        newCanvas.style.color = 'black'
        newCanvas.style.border = '1px solid #000000'
       
        
        newCanvas.style.opacity = '.9'
        newCanvas.width = vid.width
        newCanvas.height = vid.height
        newCanvas.setAttribute('id', 'gameCanvas')
        newCanvas.style.top = vidBound.y + "px"
        newCanvas.style.left = vidBound.x + "px"
        newCanvas.style.position = 'absolute'
        game.ctx = newCanvas.getContext('2d')
        document.body.append(newCanvas)

        game.resize(vid.width, vid.height)
      }

      game.start()
      document.body.onkeydown = function (e) {
        if (!game.buttonPressed(e)) alert ('Game Over')
      }
      
    </script>
</body>